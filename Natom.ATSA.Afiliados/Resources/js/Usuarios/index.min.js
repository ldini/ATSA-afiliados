$(document).ready(function(){var n=$("#tbl").dataTable({bProcessing:!0,bServerSide:!0,ajax:{url:"/Usuarios/ObtenerListadoIndex",type:"POST"},bLengthChange:!0,bFilter:!0,bSort:!0,bInfo:!0,order:[[0,"asc"]],aoColumns:[{bSortable:!0,sWidth:"20%"},{bSortable:!0,sWidth:"20%"},{bSortable:!0,sWidth:"40%"},{bSortable:!1,sWidth:"20%",mRender:function(n){var t="";return t+='&nbsp;<a class="btn btn-primary btn-xs btn-editar" id="'+n+'">Editar<\/a>',t+('&nbsp;<a class="btn btn-danger btn-xs btn-eliminar" id="'+n+'">Eliminar<\/a>')}}],fnDrawCallback:function(){$(this).find('[data-toggle="tooltip"]').tooltip()}});$("#tbl").on("click",".btn-editar",function(n){var t=n.currentTarget.id;location.href="/Usuarios/Edit?id="+t.toString()});$("#tbl").on("click",".btn-eliminar",function(n){var t=n.currentTarget.id;Mensajes.MostrarSiNo("¿Eliminar el usuario?",function(){$.ajax({type:"POST",url:"/Usuarios/Eliminar",data:JSON.stringify({id:t}),dataType:"json",contentType:"application/json",beforeSend:function(){$.blockUI({message:"<h4>Procesando...<\/h4>"})},success:function(n,t){t=="success"?n.success?($.unblockUI(),$(".table").DataTable().ajax.reload()):Mensajes.MostrarError(n.error):(Mensajes.MostrarError("Se ha producido un error. Comuníquese con el administrador de ATSA."),$.unblockUI())}})},undefined)})});
